@if (getSpecificCompetitionLoading()) {
  <div class="bg-black/80 flex items-center justify-center fixed inset-0 z-10000">
    <i class="fa fa-spin fa-spinner text-[70px] text-blue-800"></i>
  </div>
} @else {
  <div class="max-w-3xl mx-auto p-4 space-y-8">
    <!-- ================= Competition? Card ================= -->

    <div
      class="bg-white rounded cursor-pointer-2xl shadow-lg border border-gray-200 overflow-hidden"
    >
      <!-- Header -->
      <div class="bg-blue-700 text-white p-6">
        <div class="flex items-center justify-between flex-wrap gap-3">
          <h2 class="text-2xl font-semibold flex items-center gap-2">
            <i class="fa-solid fa-trophy"></i>
            {{ competition.title }}
          </h2>

          <span
            [class]="{
              'bg-blue-500': competition.status.toLowerCase() == 'completed',
              'bg-red-500': competition.status.toLowerCase() == 'cancelled',
              'bg-green-500': competition.status.toLowerCase() == 'active',
              'bg-yellow-500': competition.status.toLowerCase() == 'Upcoming',
            }"
            class="px-3 py-1 rounded cursor-pointer text-sm font-medium"
          >
            {{ competition.status }}
          </span>
        </div>

        <p class="mt-3 opacity-90">
          {{ competition.description }}
        </p>
      </div>

      <!-- Dates -->
      <div class="p-6 grid md:grid-cols-2 gap-6">
        <div class="bg-gray-50 p-4 rounded cursor-pointer-xl">
          <h3 class="text-sm text-gray-500 flex items-center gap-2">
            <i class="fa-regular fa-calendar"></i>
            Start Date
          </h3>
          <p class="mt-2 font-semibold text-gray-800">
            {{ competition.startDate | date: 'short' }}
          </p>
        </div>

        <div class="bg-gray-50 p-4 rounded cursor-pointer-xl">
          <h3 class="text-sm text-gray-500 flex items-center gap-2">
            <i class="fa-regular fa-calendar-check"></i>
            End Date
          </h3>
          <p class="mt-2 font-semibold text-gray-800">
            {{ competition.endDate | date: 'short' }}
          </p>
        </div>
      </div>
    </div>

    <!-- ================= Submission Form ================= -->

    @if (cookieService.get('userRole').toLowerCase() !== 'admin' && authService.isLogin()) {
      <div class="bg-white rounded cursor-pointer-2xl shadow-lg border border-gray-200 p-6">
        <h3 class="text-xl font-semibold text-blue-700 flex items-center gap-2 mb-6">
          <i class="fa-solid fa-paper-plane"></i>
          Submit Your Project
        </h3>

        <form (submit)="createProject()" class="space-y-5" [formGroup]="addProjectForm">
          <!-- Project Title -->
          <div>
            <label class="font-medium flex items-center gap-2 mb-2">
              <i class="fa-solid fa-folder-open text-blue-700"></i>
              Project Title
            </label>

            <input
              formControlName="projectTitle"
              name="projectTitle"
              type="text"
              placeholder="Enter your project title..."
              class="w-full border border-gray-300 rounded cursor-pointer px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-700"
            />
          </div>

          <!-- Description -->
          <div>
            <label class="font-medium flex items-center gap-2 mb-2">
              <i class="fa-solid fa-align-left text-blue-700"></i>
              Description
            </label>

            <textarea
              formControlName="description"
              name="description"
              rows="4"
              placeholder="Describe your project..."
              class="w-full border border-gray-300 rounded cursor-pointer px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-700"
            ></textarea>
          </div>

          <!-- GitHub Link -->
          <div>
            <label class="font-medium flex items-center gap-2 mb-2">
              <i class="fa-brands fa-github text-blue-700"></i>
              GitHub Link
            </label>

            <input
              formControlName="githubLink"
              name="githubLink"
              type="url"
              placeholder="https://github.com/your-project"
              class="w-full border border-gray-300 rounded cursor-pointer px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-700"
            />
          </div>

          <!-- submissionDate -->
          <div>
            <label class="font-medium flex items-center gap-2 mb-2">
              <i class="fa-solid fa-clock text-blue-700"></i>
              Submission Date
            </label>

            <input
              formControlName="submissionDate"
              name="submissionDate"
              type="date"
              class="w-full border border-gray-300 rounded cursor-pointer px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-700"
            />
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            [disabled]="createCompetitionLoading()"
            [class.opacity-50]="createCompetitionLoading()"
            class="w-full bg-blue-700 text-white py-3 rounded cursor-pointer font-semibold hover:bg-blue-800 transition flex items-center justify-center gap-2"
          >
            <i class="fa-solid fa-upload"></i>
            @if (createCompetitionLoading()) {
              Loading.....
            } @else {
              Submit Project
            }
          </button>
        </form>
      </div>
    }
  </div>
}
